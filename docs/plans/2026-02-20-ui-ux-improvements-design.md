# UI/UX 优化设计方案

> 版本: 1.0
> 日期: 2026-02-20
> 状态: 待实现

---

## 目录

1. [统一加载状态](#1-统一加载状态)
2. [骨架屏暖色系](#2-骨架屏暖色系)
3. [深色模式过渡动画](#3-深色模式过渡动画)
4. [纪念日页面优化](#4-纪念日页面优化)
5. [首页倒计时卡片](#5-首页倒计时卡片)
6. [时光轴移动端动画](#6-时光轴移动端动画)
7. [PageHeader 组件](#7-pageheader-组件)
8. [纪念日提醒高亮](#8-纪念日提醒高亮)
9. [返回顶部按钮](#9-返回顶部按钮)
10. [首页照片轮播](#10-首页照片轮播)

---

## 1. 统一加载状态

### 问题
- TimelineView 和 AnniversaryView 使用文字 "加载中..."
- 其他页面使用骨架屏 (SkeletonGrid)
- 体验不一致

### 设计方案

**Before:**
```
┌─────────────────────────┐
│                         │
│      加载中...          │
│                         │
└─────────────────────────┘
```

**After:**
```
┌─────────────────────────┐
│ ┌─────────────────────┐ │
│ │ ██████████████████  │ │  ← 骨架卡片
│ │ ████████            │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │ ██████████████████  │ │
│ │ ████████            │ │
│ └─────────────────────┘ │
└─────────────────────────┘
```

### 实现步骤

1. TimelineView 添加 SkeletonGrid
2. AnniversaryView 添加骨架屏组件

### 代码改动

**TimelineView.vue:**
```vue
<!-- Before -->
<div v-if="loading" class="text-center text-text-secondary">
  加载中...
</div>

<!-- After -->
<SkeletonGrid v-if="loading" :count="4" aspect-class="aspect-[4/3]" />
```

**AnniversaryView.vue:**
```vue
<!-- 添加新的骨架屏组件 -->
<div v-if="loading" class="space-y-4">
  <div v-for="i in 3" :key="i" class="glass-nav rounded-2xl p-6 animate-pulse">
    <div class="flex items-center gap-4">
      <div class="w-12 h-12 rounded-xl bg-primary/10"></div>
      <div class="flex-1 space-y-2">
        <div class="h-5 bg-primary/10 rounded w-1/3"></div>
        <div class="h-3 bg-primary/10 rounded w-1/4"></div>
      </div>
      <div class="text-right">
        <div class="h-6 bg-primary/10 rounded w-12"></div>
      </div>
    </div>
  </div>
</div>
```

---

## 2. 骨架屏暖色系

### 问题
- 当前骨架屏使用 `bg-gray-200`
- 与网站暖色调不符

### 设计方案

**Before:**
```
┌─────────────────────────┐
│ ███████████████████████ │  ← 灰色 #e5e7eb
│ ████████                │
└─────────────────────────┘
```

**After:**
```
┌─────────────────────────┐
│ ███████████████████████ │  ← 暖色 rgba(212,165,116,0.1)
│ ████████                │
└─────────────────────────┘
```

### 实现步骤

1. 修改 SkeletonGrid.vue 的背景色
2. 修改 SkeletonCard.vue 的背景色
3. 修改 HomeView 等内联骨架屏

### 代码改动

```css
/* Before */
bg-gray-200

/* After */
bg-primary/10
```

---

## 3. 深色模式过渡动画

### 问题
- 当前切换是突然变化
- 用户体验不流畅

### 设计方案

**动画效果:**
```
Light Mode                Transition               Dark Mode
┌──────────┐         ┌────────────────┐        ┌──────────┐
│ ☀️ Light │   ───>  │ 🌓 Fading...   │  ───>  │ 🌙 Dark  │
└──────────┘         └────────────────┘        └──────────┘
   0ms                  300ms                     300ms
```

### 实现步骤

1. 在 `index.css` 添加全局过渡
2. 使用 CSS 变量 + transition
3. 禁用首次加载动画

### 代码改动

**index.css:**
```css
/* 深色模式平滑过渡 */
html {
  transition: 
    background-color 0.3s ease,
    color 0.3s ease;
}

html.dark {
  background-color: #1A1A2E;
}

/* 禁用首次加载动画 */
html.no-transition * {
  transition: none !important;
}
```

**useDarkMode.js:**
```javascript
// 切换时添加过渡类
function toggle() {
  document.documentElement.classList.add('transitioning');
  isDark.value = !isDark.value;
  setTimeout(() => {
    document.documentElement.classList.remove('transitioning');
  }, 300);
}
```

---

## 4. 纪念日页面优化

### 问题
- 只有一个数字和列表
- 视觉单调，缺乏仪式感

### 设计方案

**Before:**
```
┌─────────────────────────────────┐
│           纪念日                │
│                                 │
│  ┌───────────────────────────┐  │
│ │    我们在一起已经          │  │
│ │         518                │  │
│ │         天                 │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │ ❤️ 第100天    100天后    │  │
│  └───────────────────────────┘  │
│  ┌───────────────────────────┐  │
│  │ ❤️ 生日      30天后      │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

**After:**
```
┌─────────────────────────────────┐
│           纪念日                │
│                                 │
│  ┌───────────────────────────┐  │
│  │   ⭕ 进度环 (518/600)     │  │  ← 添加进度环
│  │      518 天               │  │
│  │   距离 600 天还有 82 天   │  │
│  └───────────────────────────┘  │
│                                 │
│  即将到来 · 高亮显示            │  ← 分类标题
│  ┌───────────────────────────┐  │
│  │ ❤️ 第100天                │  │  ← 高亮卡片
│  │ ⏰ 3天后                  │  │  ← 即将到来标签
│  │ ████████░░ 进度条         │  │  ← 添加进度
│  └───────────────────────────┘  │
│                                 │
│  未来纪念日                     │
│  ┌───────────────────────────┐  │
│  │ 💝 情人节    45天后      │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

### 新增元素

1. **进度环** - 显示当前天数占下一个里程碑的进度
2. **分类标题** - "即将到来" / "未来纪念日"
3. **高亮卡片** - 3天内的纪念日特殊样式
4. **进度条** - 每个纪念日的等待进度

### 实现步骤

1. 添加 ProgressRing 组件显示天数进度
2. 添加纪念日分类逻辑（即将到来/未来）
3. 添加高亮样式
4. 添加进度条动画

---

## 5. 首页倒计时卡片

### 问题
- 两个 glass-nav 卡片外观相同
- 视觉重复，缺少区分

### 设计方案

**Before:**
```
┌──────────────────┐  ┌──────────────────┐
│ 距离 600 天纪念日 │  │ 距离 2 周年       │
│                  │  │                  │
│   ⭕ ⭕ ⭕ ⭕     │  │   ⭕ ⭕ ⭕ ⭕     │
│   天  时  分  秒  │  │   天  时  分  秒  │
└──────────────────┘  └──────────────────┘
     完全相同             完全相同
```

**After (方案A - 标签区分):**
```
┌──────────────────┐  ┌──────────────────┐
│ 🎯 百天里程碑    │  │ 💝 周年纪念      │  ← 添加图标和标签
│ 距离 600 天      │  │ 距离 2 周年       │
│                  │  │                  │
│   ⭕ ⭕ ⭕ ⭕     │  │   ⭕ ⭕ ⭕ ⭕     │
│   天  时  分  秒  │  │   天  时  分  秒  │
│                  │  │                  │
│ ━━━━━━━━━━━━━   │  │ ~~~~~~~~~~~~~~~~ │  ← 底部装饰不同
└──────────────────┘  └──────────────────┘
```

**After (方案B - 左右布局):**
```
┌───────────────────────────────────────────┐
│                                           │
│  🎯 百天里程碑                    💝 周年  │
│  ─────────────                  ────────  │
│  距离 600 天纪念日               2 周年    │
│                                           │
│   ⭕ ⭕ ⭕ ⭕          ⭕ ⭕ ⭕ ⭕        │
│   天  时  分  秒        天  时  分  秒     │
│                                           │
└───────────────────────────────────────────┘
          合并为一个大卡片
```

### 推荐方案
方案A - 保持两个卡片，增加视觉区分

---

## 6. 时光轴移动端动画

### 问题
- 桌面端有左右交替动画
- 移动端只有简单的淡入

### 设计方案

**Before (移动端):**
```
↓ 简单淡入
┌─────────────┐
│ 💕 事件1    │
└─────────────┘
     ↓
┌─────────────┐
│ 💕 事件2    │
└─────────────┘
```

**After (移动端):**
```
     从左滑入 ──→
┌─────────────┐
│ 💕 事件1    │
└─────────────┘
     ←── 从右滑入
┌─────────────┐
│ 💕 事件2    │
└─────────────┘
     从左滑入 ──→
┌─────────────┐
│ 💕 事件3    │
└─────────────┘
```

### 实现步骤

1. 修改 TimelineView.vue 的动画逻辑
2. 移动端也使用左右交替动画（方向相反）

---

## 7. PageHeader 组件

### 问题
- 每个页面都有相同的 header 结构
- 代码重复，维护困难

### 设计方案

**提取前 (每个页面):**
```vue
<div class="text-center mb-8 sm:mb-12">
  <h1 class="font-display text-3xl sm:text-4xl lg:text-5xl text-text-main mb-3 sm:mb-4">
    页面标题
  </h1>
  <p class="text-text-secondary text-sm sm:text-lg">
    页面描述
  </p>
</div>
```

**提取后:**
```vue
<PageHeader 
  title="纪念日" 
  subtitle="记录我们共同的每一个重要时刻"
/>
```

### 组件设计

```vue
<!-- PageHeader.vue -->
<template>
  <div class="text-center mb-8 sm:mb-12">
    <h1 class="font-display text-3xl sm:text-4xl lg:text-5xl text-text-main mb-3 sm:mb-4">
      {{ title }}
    </h1>
    <p v-if="subtitle" class="text-text-secondary text-sm sm:text-lg">
      {{ subtitle }}
    </p>
    <slot name="extra" />
  </div>
</template>

<script setup>
defineProps({
  title: { type: String, required: true },
  subtitle: { type: String, default: '' }
});
</script>
```

---

## 8. 纪念日提醒高亮

### 问题
- 即将到来的纪念日没有特殊提示
- 容易错过重要日子

### 设计方案

**普通纪念日:**
```
┌───────────────────────────┐
│ ❤️ 第200天                │
│ 30天后                    │
└───────────────────────────┘
```

**即将到来 (3天内):**
```
┌───────────────────────────┐
│ ⭐ 第200天                │  ← 星标
│ 🔔 3天后                  │  ← 铃铛图标
│ ━━━━━━━━━━━━━━━░░░        │  ← 进度条
│ ████████████████          │  ← 高亮边框
└───────────────────────────┘
```

**当天:**
```
┌───────────────────────────┐
│ 🎉 第200天                │
│ 就是今天！                │
│ 🎊🎊🎊                    │  ← 庆祝动画
└───────────────────────────┘
```

---

## 9. 返回顶部按钮

### 问题
- 当前样式不够突出
- 显示条件单一

### 设计方案

**Before:**
```
    [^]  ← 简单的箭头按钮
```

**After:**
```
    ┌───┐
    │ ⬆ │  ← 圆形玻璃按钮
    │   │     带阴影和脉冲动画
    └───┘
```

### 改进点

1. 改为圆形玻璃风格按钮
2. 添加脉冲动画吸引注意
3. 滚动超过 300px 后显示
4. 平滑滚动到顶部

---

## 10. 首页照片轮播

### 问题
- 当前是静态网格展示
- 缺乏动感

### 设计方案

**轮播效果:**
```
┌─────────────────────────────────────┐
│                                     │
│   ┌─────────┐ ┌─────────┐          │
│   │         │ │   主图  │          │
│   │  预览   │ │   居中  │          │
│   │         │ │         │          │
│   └─────────┘ └─────────┘          │
│                                     │
│        ○ ○ ● ○ ○  指示器            │
│                                     │
│   ← 左滑         右滑 →             │
└─────────────────────────────────────┘
```

### 功能特性

1. 自动轮播 (5秒间隔)
2. 手势滑动支持
3. 指示器点击跳转
4. 淡入淡出过渡
5. 悬停暂停

---

## 实现优先级

| 优先级 | 任务 | 预计时间 |
|--------|------|----------|
| P0 | 统一加载状态 | 15min |
| P0 | 骨架屏暖色系 | 10min |
| P0 | 深色模式过渡 | 15min |
| P1 | 纪念日页面优化 | 45min |
| P1 | 首页倒计时卡片 | 20min |
| P1 | 时光轴移动端动画 | 15min |
| P2 | PageHeader 组件 | 20min |
| P2 | 纪念日提醒高亮 | 20min |
| P3 | 返回顶部按钮 | 10min |
| P3 | 首页照片轮播 | 30min |

**总预计时间: ~3小时**

---

## 原型预览

原型文件位置: `prototypes/ui-improvements-preview.html`

运行 `python -m http.server 8888` 后访问查看。
